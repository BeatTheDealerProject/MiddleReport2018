\section{従来の戦略の問題点}
まず、ベーシックストラテジーの問題点について述べる。この戦略はデック数が無限個を想定しており、すでに引いたカードの種類や枚数を考慮していない点である。
まず、基本的にカジノで行われるゲームではデック数は有限である。デック数が有限であるということは、以前に引いたカードの種類によって、次に引くカードの確率が変化していくということである。例えば、プレイヤーが２人、デック数が１のゲームをしていると仮定する。ディーラーのアップカードがハートのエース、プレイヤー１の初期の手札がダイヤのエースとクローバーのエース、プレイヤー２の初期の手札がスペードのエースとハートの２が配られたとする。この時点でデック内のエースのカードはすべて配られてしまい、以後のゲームでエースが出る確率は０になっている。しかし、デック数を無限に設定すると、以後のゲームでもエースは無限に存在することになり、確率は4/52になってしまう。これが、デック数無限のシミュレーションと実際のゲームの相違点である。このような相違点を考慮しないため、実際の勝率とは異なってしまい、利益についてもばらつきが出てしまうのである。
またこの戦略は勝率が４割程度しかなく、勝利数だけで言えばカジノ側に負けてしまう。
カウンティングの問題点については後期に詳しく調査する予定である。
\bunseki{※菱田美紗紀}

\section{戦略同士の比較}
Thorp氏によって考案されたベーシックストラテジーについて検証を行う.
ベーシックストラテジーの性能評価のために比較対象として6つの戦略を考えた.
比較対象となる戦略は次の通りである.

\begin{itemize}
  \item ベーシックストラテジー改変1
  \item ベーシックストラテジー改変2
  \item プレイヤーの合計値が15以上になるまでヒット
  \item プレイヤーの合計値が16以上になるまでヒット
  \item プレイヤーの合計値が17以上になるまでヒット
  \item プレイヤーの合計値が18以上になるまでヒット
\end{itemize}

以上の6つの戦略について,これから詳細に説明する.
\bunseki{※米村祥裕}

\subsection{ベーシックストラテジー改変1}
ベーシックストラテジーはブラックジャックにおける有効な戦略の一つである.しかし
戦略の表に注目すると,表の複雑性を考えたときに変更の余地があると考えた.
戦略表においてプレイヤーの合計値が12の行に注目する.ディーラーのアップカードが2,3の時は
Sとなっているが,その後アップカードが4,5,6の時はH,アップカードが7,8,9,10,Aの時はHとなっており,
Hに挟まれてSが存在している.表を覚えることを考えると,同じ行の中で変化が少ない方がよいと考えられる.
そのため,ベーシックストラテジー改変1では表\ref{bschange1}に示すように,プレイヤーの合計値が12,ディーラーのアップ
カードが4,5,6の時の戦略をSに変更した.
\bunseki{※米村祥裕}

\begin{table}[htbp]
  \centering
  \caption{ベーシックストラテジー改変1\label{bschange1}}
  \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{2}{|c|}{} & \multicolumn{10}{|c|}{ディーラーのアップカード} \\ \hline
    \multicolumn{2}{|c|}{} & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
    手札の合計 & 19以上 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 18 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 17 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 16 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 15 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 13\~ 14 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 12 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 11以下 & H & H & H & H & H & H & H & H & H & H \\ \hline
  \end{tabular}
\end{table}

\subsection{ベーシックストラテジー改変2}
ベーシックストラテジー改変1と同様にベーシックストラテジーの戦略表を改変した.
変更点は改変1と同様にプレイヤーの合計値が12の行である.改変1ではディーラーのアップカドが4,5,6の部分を
Sに変更したが,改変2ではHに変更した.この変更によってプレイヤーの合計値が12の行はすべてHという表\ref{bschange2}ができた.
\bunseki{※米村祥裕}

\begin{table}[htbp]
  \centering
  \caption{ベーシックストラテジー改変2\label{bschange2}}
  \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{2}{|c|}{} & \multicolumn{10}{|c|}{ディーラーのアップカード} \\ \hline
    \multicolumn{2}{|c|}{} & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
    手札の合計 & 19以上 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 18 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 17 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 16 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 15 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 13\~ 14 & S & S & S & S & S & H & H & H & H & H \\ \cline{3-12}
              & 12 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 11以下 & H & H & H & H & H & H & H & H & H & H \\ \hline
  \end{tabular}
\end{table}

\subsection{プレイヤーの合計値が一定以上になるまでヒットする戦略}
ディーラーがある程度有利な戦略を採用しているという仮定の下で,プレイヤーもディーラーと同様の
行動を行う戦略を考えた.プレイヤーの手札の合計値が一定以上になるまでヒットするものとして、次の4つの戦略を用意した。
\begin{itemize}
  \item プレイヤーの合計値が15以上になるまでヒット
  \item プレイヤーの合計値が16以上になるまでヒット
  \item プレイヤーの合計値が17以上になるまでヒット
  \item プレイヤーの合計値が18以上になるまでヒット
\end{itemize}

\begin{table}[htbp]
  \centering
  \caption{プレイヤーの合計値が15以上になるまでヒット\label{hitleq15}}
  \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{2}{|c|}{} & \multicolumn{10}{|c|}{ディーラーのアップカード} \\ \hline
    \multicolumn{2}{|c|}{} & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
    手札の合計 & 19以上 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 18 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 17 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 16 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 15 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 13\~ 14 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 12 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 11以下 & H & H & H & H & H & H & H & H & H & H \\ \hline
  \end{tabular}
\end{table}

\begin{table}[htbp]
  \centering
  \caption{プレイヤーの合計値が16以上になるまでヒット\label{hitleq16}}
  \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{2}{|c|}{} & \multicolumn{10}{|c|}{ディーラーのアップカード} \\ \hline
    \multicolumn{2}{|c|}{} & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
    手札の合計 & 19以上 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 18 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 17 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 16 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 15 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 13\~ 14 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 12 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 11以下 & H & H & H & H & H & H & H & H & H & H \\ \hline
  \end{tabular}
\end{table}

\begin{table}[htbp]
  \centering
  \caption{プレイヤーの合計値が17以上になるまでヒット\label{hitleq17}}
  \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{2}{|c|}{} & \multicolumn{10}{|c|}{ディーラーのアップカード} \\ \hline
    \multicolumn{2}{|c|}{} & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
    手札の合計 & 19以上 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 18 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 17 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 16 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 15 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 13\~ 14 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 12 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 11以下 & H & H & H & H & H & H & H & H & H & H \\ \hline
  \end{tabular}
\end{table}

\begin{table}[htbp]
  \centering
  \caption{プレイヤーの合計値が18以上になるまでヒット\label{hitleq18}}
  \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{2}{|c|}{} & \multicolumn{10}{|c|}{ディーラーのアップカード} \\ \hline
    \multicolumn{2}{|c|}{} & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
    手札の合計 & 19以上 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 18 & S & S & S & S & S & S & S & S & S & S \\ \cline{3-12}
              & 17 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 16 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 15 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 13\~ 14 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 12 & H & H & H & H & H & H & H & H & H & H \\ \cline{3-12}
              & 11以下 & H & H & H & H & H & H & H & H & H & H \\ \hline
  \end{tabular}
\end{table}
\bunseki{※米村祥裕}
\newpage

\subsection{複雑性の定義について}

プレイヤーに扱いやすい戦略とは何かを定義する為に、戦略の複雑性を次のように定義した。
まず、戦略の文字列を圧縮する。元の表を「連続する文字+連続して文字が出た回数」と変換することで文字列を圧縮した。
例として、「HHSSSHHHHH」という10文字からなる文字列を圧縮すると、「H2S3H5」となり、圧縮した後の文字列は6文字
となる。また「HHHHHHHHHH」という文字列を「H10」と圧縮したときのように、連続して同じ文字が出た回数が2桁の場合には
数字部分を1文字として数える。つまり「H10」の文字列長は2文字である。

圧縮した後の文字列長を元の表の大きさ(80)で割った数値を複雑性の定義とした。
\bunseki{※米村祥裕}

\subsection{各戦略の複雑性}

%用意した戦略は次のような8行の配列とし、それぞれの行に圧縮を行った。\\

%\begin{table}[H]
%\caption{ベーシックストラテジーの戦略表}
%\label{table:data_type}
%\begin{center}
%\begin{tabular}{|cc|c|c|c|c|c|c|c|c|c|c|}
%\hline
%                            &            & \multicolumn{10}{c|}{ディーラーのアップカード}     \\ \cline{3-12} 
%                            &            & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & A \\ \hline
%\multicolumn{1}{|l|}{手札の合計} & 19以上       & S & S & S & S & S & S & S & S & S  & S \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 18         & S & S & S & S & S & S & S & S & S  & S \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 17         & S & S & S & S & S & S & S & S & S  & S \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 16         & S & S & S & S & S & H & H & H & H  & H \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 15         & S & S & S & S & S & H & H & H & H  & H \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 13$\sim$14 & S & S & S & S & S & H & H & H & H  & H \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 12         & H & H & S & S & S & H & H & H & H  & H \\ \cline{2-12} 
%\multicolumn{1}{|l|}{}      & 11以下       & H & H & H & H & H & H & H & H & H  & H \\ \hline
%\end{tabular}
%\end{center}
%\end{table}

今回用意した戦略を、全て圧縮したのが表\ref{table:data_type}である。


%\begin{figure}[htbp]
%\begin{center}
%\includegraphics[width=15cm,bb=0 0 602 261]{2.png}
%\end{center}
%\caption{各戦略の圧縮した後の文字列と複雑性}
%\label{picture}
%\end{figure}

\begin{table}[H]
\caption{各戦略の圧縮した後の文字列と複雑性}
\label{table:data_type}
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
戦略           & 圧縮した後の文字列                                                                   & 文字列長 & 複雑性   \\ \hline
ベーシックストラテジー         & \begin{tabular}[c]{@{}l@{}}S10S5H5S5H5S5H5S5H5S5H5H2S3H5H10\end{tabular} & 30   & 0.375 \\ \hline
ベーシックストラテジー改変1      & S10S5H5S5H5S5H5S5H5S5H5S5H5H10                                              & 28   & 0.35  \\ \hline
ベーシックストラテジー改変2      & S10S5H5S5H5S5H5S5H5S5H5H10H10                                               & 26   & 0.325 \\ \hline
15以上になるまでヒット & S10S10S10S10S10H10H10H10                                                    & 16   & 0.2   \\ \hline
16以上になるまでヒット & S10S10S10S10H10H10H10H10                                                    & 16   & 0.2   \\ \hline
17以上になるまでヒット & S10S10S10H10H10H10H10H10                                                    & 16   & 0.2   \\ \hline
18以上になるまでヒット & S10S10H10H10H10H10H10H10                                                    & 16   & 0.2   \\ \hline
\end{tabular}
\end{center}
\end{table}

表\ref{table:data_type}を見ると、ベーシックストラテジーを改変した戦略の方が、複雑性が低く、プレイヤーにとって扱いやすいといえる。
また、手札の合計値が一定以上になるまでヒットする戦略は、複雑性がベーシックストラテジーの半分程度であり、プレイヤーに
とって扱いやすい戦略だといえる。
\bunseki{※渡邊凛}

\subsection{各戦略の性能評価}

そして、今回はその複雑性を用いて、各戦略の性能比較を行った。
性能の基準は以下の二通りを用意した。\\
~~ 1. (勝率) ÷ (複雑性)\\
~~ 2. (勝率) － (複雑性)\\
この評価基準に従って、1デックの時と無限デックの時の性能を表にした。



%\begin{figure}[htbp]
%\begin{center}
%\includegraphics[width=15cm,bb=0 0 602 279]{3.png}
%\end{center}
%\caption{1デックの時の各戦略の性能}
%\label{picture}
%\end{figure}

\begin{table}[H]
\caption{1デックの時の各戦略の性能}
\label{table:data_type}
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|}
\hline
戦略           & 圧縮長 & 勝率    & 複雑性   & 性能1  & 性能2   \\ \hline
ベーシックストラテジー         & 30  & 0.431 & 0.375 & 1.14 & 0.052 \\ \hline
ベーシックストラテジー改変1      & 28  & 0.429 & 0.35  & 1.22 & 0.076 \\ \hline
ベーシックストラテジー改変2      & 26  & 0.430 & 0.325 & 1.21 & 0.072 \\ \hline
15以上になるまでヒット & 16  & 0.421 & 0.200 & 2.12 & 0.224 \\ \hline
16以上になるまでヒット & 16  & 0.416 & 0.200 & 2.07 & 0.214 \\ \hline
17以上になるまでヒット & 16  & 0.410 & 0.200 & 2.05 & 0.209 \\ \hline
18以上になるまでヒット & 16  & 0.421 & 0.200 & 1.97 & 0.193 \\ \hline
\end{tabular}
\end{center}
\end{table}


%\begin{figure}[htbp]
%\begin{center}
%\includegraphics[width=15cm,bb=0 0 541 255]{4_.png}
%\end{center}
%\caption{無限デックの時の各戦略の性能}
%\label{picture}
%\end{figure}

\begin{table}[H]
\caption{1デックの時の各戦略の性能}
\label{table:data_type}
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|}
\hline
戦略           & 圧縮長 & 勝率    & 複雑性   & 性能1  & 性能2   \\ \hline
ベーシックストラテジー         & 30  & 0.427 & 0.375 & 1.14 & 0.052 \\ \hline
ベーシックストラテジー改変1      & 28  & 0.424 & 0.35  & 2.12 & 0.224 \\ \hline
ベーシックストラテジー改変2      & 26  & 0.414 & 0.325 & 1.07 & 0.214 \\ \hline
15以上になるまでヒット & 16  & 0.424 & 0.200 & 2.05 & 0.209 \\ \hline
16以上になるまでヒット & 16  & 0.414 & 0.200 & 1.97 & 0.193 \\ \hline
17以上になるまでヒット & 16  & 0.409 & 0.200 & 1.21 & 0.076 \\ \hline
18以上になるまでヒット & 16  & 0.393 & 0.200 & 1.21 & 0.072 \\ \hline
\end{tabular}
\end{center}
\end{table}

各戦略を比較し、次のような結果を得た。
まず、勝率のみを考慮した場合、一定の数字以上でスタンドする戦略よりも、ベーシックストラテジーとそれを改変した戦略の方が有意に高い勝率だった。
また、ベーシックストラテジーと改変1、改変2のそれぞれの戦略間には有意な差が見られなかった。
複雑性を考慮して性能を評価した場合、基準値を15に設定した戦略が一番優秀であった。

\bunseki{※渡邊凛}